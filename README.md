# vagner.pages - Meu CMS Pessoal

Bem-vindo ao reposit√≥rio do **vagner.pages**, um projeto de blog e Sistema de Gerenciamento de Conte√∫do (CMS) constru√≠do do zero com HTML, CSS e JavaScript puro (m√≥dulos ES6+), e potencializado pelo ecossistema do Firebase e ferramentas de desenvolvimento modernas.

Este `README` serve como uma documenta√ß√£o central do projeto, explicando sua estrutura, as boas pr√°ticas aplicadas, como execut√°-lo e o roadmap completo da sua evolu√ß√£o.

## üöÄ Como Rodar o Projeto Localmente

1.  Clone este reposit√≥rio.
2.  Certifique-se de ter o [Node.js](https://nodejs.org/) (vers√£o LTS) instalado.
3.  Crie um arquivo `.env` na raiz do projeto, usando o `.env.example` como modelo para preencher suas chaves do Firebase.
4.  Abra o terminal na pasta do projeto e instale as depend√™ncias:
    ```bash
    npm install
    ```
5.  Inicie o servidor de desenvolvimento do Vite:
    ```bash
    npm run dev
    ```
6.  Abra a URL `http://localhost:5173` (ou a que for indicada no seu terminal) no navegador.

## ‚öôÔ∏è Configurando o Deploy Autom√°tico (CI/CD)

O deploy para o Firebase Hosting √© automatizado via GitHub Actions. Para replicar este projeto, a seguinte configura√ß√£o de segredos no reposit√≥rio do GitHub √© necess√°ria:

1.  **Chaves da Aplica√ß√£o:** Crie "Repository secrets" na aba "Settings" > "Secrets and variables" > "Actions" para cada uma das vari√°veis presentes no arquivo `.env.example` (ex: `VITE_API_KEY`).
2.  **Autentica√ß√£o do Firebase:** √â necess√°rio criar uma **Conta de Servi√ßo (Service Account)** no Google Cloud Console com o papel de "Administrador do Firebase Hosting".
    * Gere uma chave JSON para esta conta.
    * Copie o conte√∫do completo do arquivo JSON.
    * Crie um novo "Repository secret" com o nome `FIREBASE_SERVICE_ACCOUNT_[SEU_PROJECT_ID]` e cole o conte√∫do do JSON como seu valor.

## üìÇ Estrutura do Projeto

A estrutura do projeto separa claramente as configura√ß√µes do c√≥digo-fonte da aplica√ß√£o (`src`).

* `.github/` - Cont√©m os arquivos de workflow do GitHub Actions para CI/CD.
* `.env` - Armazena vari√°veis de ambiente e segredos (local, n√£o versionado).
* `index.html` - O ponto de entrada principal (a "casca") da nossa SPA.
* `package.json` - Define as depend√™ncias e scripts do projeto.
* `public/` - Cont√©m assets est√°ticos que s√£o servidos diretamente, como o `favicon.svg`.
* `src/` - **Cont√©m todo o c√≥digo-fonte da aplica√ß√£o.**
    * `assets/` - Recursos como o sprite de √≠cones SVG.
    * `components/` - Fragmentos de HTML reutiliz√°veis.
    * `css/` - Arquivos de estilo.
    * `js/` - M√≥dulos JavaScript.
    * `pages/` - Fragmentos de HTML para cada "p√°gina" da SPA.

## ‚ú® Funcionalidades

* **Autentica√ß√£o Segura:** Login com o Google atrav√©s do Firebase Authentication.
* **Banco de Dados na Nuvem:** Todos os posts s√£o armazenados e lidos do Firestore.
* **Arquitetura SPA:** Navega√ß√£o r√°pida e fluida sem recarregar a p√°gina.
* **CRUD Completo:** Crie, Leia, Atualize e Exclua posts em uma √°rea administrativa protegida.
* **Editor Markdown:** Escreva posts usando um editor moderno (Toast UI) que salva em Markdown.
* **Renderiza√ß√£o Segura:** O conte√∫do √© convertido de Markdown para HTML e sanitizado para prevenir ataques de XSS.
* **Publica√ß√£o Profissional:** Deploy automatizado com GitHub Actions para o Firebase Hosting.

## üìò Guia de Boas Pr√°ticas Aplicadas

Este projeto foi constru√≠do seguindo uma s√©rie de boas pr√°ticas do mercado para garantir um c√≥digo limpo, seguro e de f√°cil manuten√ß√£o.

* **Centraliza√ß√£o do C√≥digo-Fonte (`src`):** Todo o c√≥digo da aplica√ß√£o reside na pasta `/src`. ([Vite: A Pasta `src`](https://vitejs.dev/guide/#scaffolding-your-first-vite-project))
* **Gerenciamento de Segredos (`.env` e GitHub Secrets):** Chaves de API s√£o armazenadas em um arquivo `.env` local e passadas para o ambiente de CI/CD atrav√©s de GitHub Secrets. ([Vite: Vari√°veis de Ambiente e Modos](https://vitejs.dev/guide/env-and-mode.html))
* **HTML Sem√¢ntico:** Uso de tags como `<header>`, `<main>`, `<footer>` para Acessibilidade e SEO. ([MDN: Elementos sem√¢nticos](https://developer.mozilla.org/pt-BR/docs/Glossary/Semantics#semantics_in_html))
* **CSS Moderno (Design Tokens):** Uso de vari√°veis CSS (`:root`) para um sistema de design consistente. ([MDN: Usando vari√°veis CSS](https://developer.mozilla.org/pt-BR/docs/Web/CSS/Using_CSS_custom_properties))
* **JavaScript Modular (ESM):** Uso de `import`/`export` para um c√≥digo desacoplado. ([MDN: M√≥dulos JavaScript](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Guide/Modules))
* **Arquitetura SPA (*Single Page Application*):** Para uma experi√™ncia de usu√°rio r√°pida. ([MDN: Single-page application](https://developer.mozilla.org/pt-BR/docs/Glossary/SPA))
* **Seguran√ßa no Front-End (Sanitiza√ß√£o):** Uso de **DOMPurify** para prevenir ataques de **XSS**. ([OWASP: Preven√ß√£o de XSS](https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html))
* **Gerenciamento de Depend√™ncias (NPM):** Bibliotecas externas gerenciadas via `package.json`. ([npm Docs: About npm](https://docs.npmjs.com/about-npm))
* **Hist√≥rico de Commits Sem√¢ntico:** Ado√ß√£o do padr√£o **Conventional Commits**. ([Conventional Commits](https://www.conventionalcommits.org/))

## üó∫Ô∏è Roadmap do Projeto (Mem√≥ria Viva)

**Legenda:** ‚úÖ=Conclu√≠do | üëâ=Etapa Atual | üÖøÔ∏è=Pausado/Adiado | üïí=Planejado

* **‚úÖ Fase 1: Funda√ß√£o do Projeto (Aprendendo Fundamentos Web)**
    * ‚úÖ 1.1. Ambiente de Desenvolvimento: Instala√ß√£o do VS Code e extens√µes essenciais.
    * ‚úÖ 1.2. Estrutura e Sem√¢ntica (HTML): Cria√ß√£o do `index.html` e `admin.html` com tags sem√¢nticas.
    * ‚úÖ 1.3. Estiliza√ß√£o Inicial (CSS): Cria√ß√£o do `style.css` com a estrutura b√°sica de layout.

* **‚úÖ Fase 2: Constru√ß√£o do MVP Local (Aprendendo JavaScript Essencial)**
    * ‚úÖ 2.1. Conte√∫do Din√¢mico: Leitura de dados de um objeto JavaScript.
    * ‚úÖ 2.2. Funcionalidade de Adicionar Posts (CRUD - Create).
    * ‚úÖ 2.3. Persist√™ncia de Dados: Uso da Web Storage API (`localStorage`).
    * ‚úÖ 2.4. Funcionalidade de Editar e Excluir (CRUD - Update/Delete).
    * ‚úÖ 2.5. Melhoria da Experi√™ncia de Edi√ß√£o (UX/UI): Introdu√ß√£o do editor Rich Text.
    * ‚úÖ 2.6. Seguran√ßa Front-End: Introdu√ß√£o ao DOMPurify para prevenir ataques de XSS.

* **‚úÖ Fase 3: Migra√ß√£o para Backend-as-a-Service (Aprendendo Firebase)**
    * ‚úÖ 3.1. Setup e Configura√ß√£o: Cria√ß√£o do projeto no Firebase.
    * ‚úÖ 3.2. Autentica√ß√£o: Implementa√ß√£o do Login com Google.
    * ‚úÖ 3.3. Banco de Dados: Migra√ß√£o do `localStorage` para o Firestore.
    * ‚úÖ 3.4. Publica√ß√£o: Primeiro deploy manual no Firebase Hosting.

* **‚úÖ Fase 4: Refinamento Visual e de UX (Aprendendo Design System)**
    * ‚úÖ 4.1. Estudo e Estrat√©gia: Defini√ß√£o de tokens de design (cores, fontes, espa√ßamento) inspirados no Material Design 3.
    * ‚úÖ 4.2. Implementa√ß√£o do Design System: Tradu√ß√£o dos tokens para vari√°veis CSS.
    * ‚úÖ 4.3. Componentes e P√°ginas: Aplica√ß√£o do Design System na UI.

* **‚úÖ Fase 5: A Revolu√ß√£o da Arquitetura (Aprendendo sobre SPAs)**
    * ‚úÖ 5.1. Fundamentos da SPA: Estudo do conceito de Single Page Application.
    * ‚úÖ 5.2. Implementa√ß√£o: Refatora√ß√£o para uma arquitetura SPA com roteamento baseado em hash.

* **‚úÖ Fase 5.5: Upgrade Estrutural (Aprendendo Vite e Boas Pr√°ticas)**
    * ‚úÖ 5.5.1. Substitui√ß√£o do Live Server pelo **Vite** como servidor de desenvolvimento e build tool.
    * ‚úÖ 5.5.2. Refatora√ß√£o completa do c√≥digo para o padr√£o de **M√≥dulos ES (`import`/`export`)**, resolvendo a cadeia de depend√™ncias.
    * ‚úÖ 5.5.3. Implementa√ß√£o de **Delega√ß√£o de Eventos** com `data-attributes` para os bot√µes de a√ß√£o.
    * ‚úÖ 5.5.4. Implementa√ß√£o de **gerenciamento de segredos** com vari√°veis de ambiente (`.env`).
    * ‚úÖ 5.5.5. Reestrutura√ß√£o do projeto para o padr√£o de mercado com a pasta `/src`.
    * ‚úÖ 5.5.6. Corre√ß√£o de todos os caminhos de arquivos (`assets`, `components`, `pages`) para funcionar no ambiente de produ√ß√£o.
    * ‚úÖ 5.5.7. Resolu√ß√£o do problema de legibilidade do editor de texto no modo escuro atrav√©s da substitui√ß√£o do **EasyMDE pelo Toast UI Editor** e implementa√ß√£o de uma solu√ß√£o de tema customizada.

* **‚úÖ Fase 9: Publica√ß√£o Profissional e DevOps (Aprendendo CI/CD)**
    * ‚úÖ 9.1. Dom√≠nio e Deploy Inicial
        * ‚úÖ 9.1.1. Conex√£o do dom√≠nio personalizado `vagner.page`.
        * ‚úÖ 9.1.2. Configura√ß√£o dos registros DNS (A, CNAME, TXT) no provedor.
        * ‚úÖ 9.1.3. Verifica√ß√£o e corre√ß√£o da configura√ß√£o de deploy (`firebase.json`) para apontar para a pasta `dist` e incluir regras de `rewrite` para a SPA.
        * ‚úÖ 9.1.4. Depura√ß√£o de problemas p√≥s-deploy (login, caminhos de assets).
    * ‚úÖ 9.2. CI/CD: Configura√ß√£o do Deploy Automatizado
        * ‚úÖ 9.2.1. Inicializa√ß√£o do workflow do GitHub Actions com `firebase init hosting:github`.
        * ‚úÖ 9.2.2. Depura√ß√£o de falhas de permiss√£o (Token de Acesso Pessoal sem o escopo `workflow`).
        * ‚úÖ 9.2.3. Configura√ß√£o dos **GitHub Secrets** para as chaves de API do Firebase (`VITE_...`).
        * ‚úÖ 9.2.4. Cria√ß√£o e configura√ß√£o manual de uma **Conta de Servi√ßo (Service Account)** no Google Cloud para autentica√ß√£o segura do CI/CD.
        * ‚úÖ 9.2.5. Atualiza√ß√£o do arquivo `.github/workflows/firebase-hosting-merge.yml` para usar os segredos no build e a autentica√ß√£o correta no deploy.

* **üëâ Fase 6: Funcionalidades Avan√ßadas de Conte√∫do (Aprendendo Taxonomia e SEO)**
    * üëâ 6.1. Taxonomia: Implementar sistema de Categorias e Tags nos posts.
        * üïí 6.1.1. Adicionar campos `category` e `tags` ao modelo de dados no Firestore.
        * üïí 6.1.2. Atualizar o formul√°rio de Admin para incluir inputs para categoria e tags.
        * üïí 6.1.3. Exibir a categoria e as tags na p√°gina do post e nos cards da home.
    * üïí 6.2. Busca: Criar uma fun√ß√£o de busca de posts no blog.
    * üïí 6.3. SEO: Adicionar campos de SEO (meta description, keywords) no formul√°rio.

* **üïí Fase 7: Backend Pr√≥prio e Seguran√ßa Avan√ßada (Aprendendo Cloud Functions)**
    * üïí 7.1. Backend Serverless: Cria√ß√£o de Cloud Functions para l√≥gica de backend.
    * üïí 7.2. Armazenamento de Arquivos: Implementa√ß√£o do Cloud Storage para upload de imagens (substituindo o Base64).
    * üïí 7.3. Seguran√ßa: Refinamento das regras do Firestore.

* **üïí Fase 8: Engajamento e Intelig√™ncia Artificial (Aprendendo APIs)**
    * üïí 8.1. Comunidade: Implementar um sistema de coment√°rios nos posts.
    * üïí 8.2. IA: Integrar a API do Gemini para a funcionalidade "Sugerir T√≠tulo com IA".

* **üÖøÔ∏è Fase 10: Qualidade e Otimiza√ß√£o (Pausado)**
    * üÖøÔ∏è 10.1. Valida√ß√£o de C√≥digo: Configura√ß√£o de ferramentas como ESLint/Prettier.
    * üïí 10.2. Performance
        * üïí 10.2.1. Implementar **"Code Splitting"** para resolver o aviso "chunks are larger than 500 kB".
    * üïí 10.3. Ambiente de Dev
        * üïí 10.3.1. Implementar versionamento sem√¢ntico e exibir a vers√£o da app na UI.
        * üïí 10.3.2. Adotar e manter o padr√£o **Conventional Commits** para o hist√≥rico do Git.
    * üïí 10.4. Infraestrutura como C√≥digo
        * üïí 10.4.1. Sincronizar os √≠ndices do Firestore usando o arquivo `firestore.indexes.json`.
    * üïí 10.5. Configura√ß√£o de Ambientes (Dev/Prod)
        * üïí 10.5.1. Criar um segundo projeto Firebase para desenvolvimento.
        * üïí 10.5.2. Configurar a WebApp para alternar entre ambientes.